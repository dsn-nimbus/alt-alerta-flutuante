!function(t){"use strict";t.module("alt.alerta-flutuante",[]).constant("AltAlertaFlutuanteEventos",{EVENTO_ALERTA_FLUTUANTE:"alt.exibe-alerta-flutuante",EVENTO_ESCONDER_ALERTA_FLUTUANTE:"alt.esconde-alerta-flutuante"}).service("AltAlertaFlutuanteService",["$rootScope","AltAlertaFlutuanteEventos",function(t,e){this.exibe=function(a){t.$broadcast(e.EVENTO_ALERTA_FLUTUANTE,a)},this.esconde=function(a){t.$broadcast(e.EVENTO_ESCONDER_ALERTA_FLUTUANTE,a)}}]).directive("altAlertaFlutuante",["$rootScope","$timeout","$sce","AltAlertaFlutuanteEventos",function(e,a,n,l){var s='<div>                        <div id="alt-alerta-flutuante-blanket" ng-show="comBlanket"></div>                        <div id="alt-alerta-flutuante" class="alert alert-{{tipo}} alt-alerta-flutuante alt-sombra-secundaria" role="alert" style="display: none;">                          <button type="button" class="close" ng-show="exibeBtnClose">                            <span aria-hidden="true">&times;</span>                          </button>                          <span class="fa fa-{{icone}} fa-fw"></span>                          <strong ng-bind="titulo"></strong>                          <p class="alt-espacamento-top alt-alerta-flutuante-mensagem" ng-bind-html="mensagem"></p>                          <div class="alt-espacamento-top" ng-show="listaMsg.length">                          \t<div>                          \t\t<small class="alt-hand alt-alerta-flutuante-label-agrupador-mensagens" ng-click="toggleMensagens()">                          \t\t\t<span>Mais mensagens</span>                          \t\t\t<span class="fa fa-fw fa-angle-down"></span>                          \t\t</small>                          \t</div>                          \t<div>                          \t\t<ul class="alt-alerta-flutuante-agrupador-mensagens alt-espacamento-top hidden">                          \t\t\t<li ng-repeat="m in listaMsg track by $index">                          \t\t\t\t<small>                          \t\t\t\t\t<span class="alt-alerta-flutuante-separador-mensagens">·</span>                          \t\t\t\t\t<span ng-bind="m.mensagem"></span>                          \t\t\t\t</small>                          \t\t\t</li>                          \t\t</ul>                          \t</div>                          </div>                          <div id="alt-alerta-flutuante-tempo" ng-style="{\'border-color\': corBarraTempo}"></div>                        </div>                      </div>',o=function(s,o,i){var r="danger",c="warning",u="Houve um problema",d="Ocorreu um erro no momento da solicitação. Por favor, tente novamente mais tarde.",m=99,f=1e4,p=33,g=1e3,v="#528c49",E="#c56666",T="#31708f",A="#8a6d3b",b=o.find("#alt-alerta-flutuante"),h=o.find("#alt-alerta-flutuante-blanket"),k=o.find("#alt-alerta-flutuante-tempo"),w=b.find(".close").eq(0),O=b.find(".alt-alerta-flutuante-label-agrupador-mensagens").eq(0),B=b.find(".alt-alerta-flutuante-agrupador-mensagens").eq(0),N=null,_=null,V=function(){a.cancel(N),a.cancel(_),b.off("mouseenter"),b.off("mouseleave"),h.fadeOut(p),b.fadeOut(p)};O.on("click",function(){B.toggleClass("hidden")}),e.$on(l.EVENTO_ALERTA_FLUTUANTE,function(e,l){b.off("mouseenter"),b.off("mouseleave");var o=b.attr("style"),i=!o||o.match("block"),w=!!o&&o.match("opacity"),O=t.isObject(l)?l:{};switch(s.titulo=O.titulo||u,s.mensagem=n.trustAsHtml(O.msg||d),s.tipo=O.tipo||r,s.icone=O.icone||c,s.tempoVisivel=O.tempoVisivel||f,s.exibeBtnClose=!t.isDefined(O.exibeBtnClose)||O.exibeBtnClose,s.comBlanket=!!t.isDefined(O.comBlanket)&&O.comBlanket,s.corBarraTempo=E,s.listaMsg=O.listaMsg||[],s.tipo){case"danger":s.corBarraTempo=E;break;case"success":s.corBarraTempo=v;break;case"info":s.corBarraTempo=T;break;case"warning":s.corBarraTempo=A}b.on("mouseenter",function(){k.css({transition:"none",width:"100%"}),a.cancel(N),a.cancel(_)}),b.on("mouseleave",function(){k.css({transition:"width "+s.tempoVisivel+"ms ease",width:"0"}),b.fadeIn(m),N=a(function(){b.fadeOut(p)},s.tempoVisivel),s.comBlanket&&(h.fadeIn(m),_=a(function(){h.fadeOut(p)},s.tempoVisivel))}),i||w||(b.fadeIn(m),k.css({width:"100%",transition:"none"}),a(function(){k.css({transition:"width "+s.tempoVisivel+"ms ease",width:"0"}),N=a(function(){b.fadeOut(p)},s.tempoVisivel),s.comBlanket&&(h.fadeIn(m),_=a(function(){h.fadeOut(p)},s.tempoVisivel))},g))}),w.on("click",V),e.$on(l.EVENTO_ESCONDER_ALERTA_FLUTUANTE,V)};return{restrict:"A",replace:!0,scope:{},template:s,link:o}}])}(window.angular);