!function(t){"use strict";t.module("alt.alerta-flutuante",[]).constant("AltAlertaFlutuanteEventos",{EVENTO_ALERTA_FLUTUANTE:"alt.exibe-alerta-flutuante",EVENTO_ESCONDER_ALERTA_FLUTUANTE:"alt.esconde-alerta-flutuante"}).service("AltAlertaFlutuanteService",["$rootScope","AltAlertaFlutuanteEventos",function(t,e){this.exibe=function(a){t.$broadcast(e.EVENTO_ALERTA_FLUTUANTE,a)},this.esconde=function(a){t.$broadcast(e.EVENTO_ESCONDER_ALERTA_FLUTUANTE,a)}}]).directive("altAlertaFlutuante",["$rootScope","$timeout","$sce","AltAlertaFlutuanteEventos",function(e,a,n,l){var o='<div>                        <div id="alt-alerta-flutuante-blanket" ng-show="comBlanket"></div>                        <div id="alt-alerta-flutuante" class="alert alert-{{tipo}} alt-alerta-flutuante alt-sombra-secundaria" role="alert" style="display: none;">                          <button type="button" class="close" ng-show="exibeBtnClose">                            <span aria-hidden="true">&times;</span>                          </button>                          <span class="fa fa-{{icone}} fa-fw"></span>                          <strong ng-bind="titulo"></strong>                          <p class="alt-espacamento-top alt-alerta-flutuante-mensagem" ng-bind-html="mensagem"></p>                          <div class="alt-espacamento-top" ng-show="listaMsg.length">                          \t<div>                          \t\t<small class="alt-hand alt-alerta-flutuante-label-agrupador-mensagens" ng-click="toggleMensagens()">                          \t\t\t<span>Mais mensagens</span>                          \t\t\t<span class="fa fa-fw fa-angle-down"></span>                          \t\t</small>                          \t</div>                          \t<div>                          \t\t<ul class="alt-alerta-flutuante-agrupador-mensagens alt-espacamento-top hidden">                          \t\t\t<li ng-repeat="m in listaMsg track by $index">                          \t\t\t\t<small>                          \t\t\t\t\t<span class="alt-alerta-flutuante-separador-mensagens">·</span>                          \t\t\t\t\t<span ng-bind="m.mensagem"></span>                          \t\t\t\t</small>                          \t\t\t</li>                          \t\t</ul>                          \t</div>                          </div>                          <div id="alt-alerta-flutuante-tempo" ng-style="{\'border-color\': corBarraTempo}"></div>                        </div>                      </div>',s=function(o,s,i){var r="danger",u="warning",c="Houve um problema",d="Ocorreu um erro no momento da solicitação. Por favor, tente novamente mais tarde.",f=99,m=1e4,p=33,g=1e3,E="#528c49",v="#c56666",b="#31708f",T="#8a6d3b",A=s.find("#alt-alerta-flutuante"),h=s.find("#alt-alerta-flutuante-blanket"),_=s.find("#alt-alerta-flutuante-tempo"),k=A.find(".close").eq(0),w=A.find(".alt-alerta-flutuante-label-agrupador-mensagens").eq(0),O=A.find(".alt-alerta-flutuante-agrupador-mensagens").eq(0),B=null,N=null,V=function(){a.cancel(B),a.cancel(N),A.off("mouseenter"),A.off("mouseleave"),h.fadeOut(p),A.fadeOut(p),o._sendoExibido=!1};w.on("click",function(){O.toggleClass("hidden")}),o._sendoExibido=!1,o.sendoExibido=function(){return o._sendoExibido},e.$on(l.EVENTO_ALERTA_FLUTUANTE,function(e,l){o._sendoExibido=!0,A.off("mouseenter"),A.off("mouseleave");var s=A.attr("style"),i=!s||s.match("block"),k=!!s&&s.match("opacity"),w=t.isObject(l)?l:{};switch(o.titulo=w.titulo||c,o.mensagem=n.trustAsHtml(w.msg||d),o.tipo=w.tipo||r,o.icone=w.icone||u,o.tempoVisivel=w.tempoVisivel||m,o.exibeBtnClose=!t.isDefined(w.exibeBtnClose)||w.exibeBtnClose,o.comBlanket=!!t.isDefined(w.comBlanket)&&w.comBlanket,o.corBarraTempo=v,o.listaMsg=w.listaMsg||[],o.tipo){case"danger":o.corBarraTempo=v;break;case"success":o.corBarraTempo=E;break;case"info":o.corBarraTempo=b;break;case"warning":o.corBarraTempo=T}A.on("mouseenter",function(){_.css({transition:"none",width:"100%"}),a.cancel(B),a.cancel(N)}),A.on("mouseleave",function(){_.css({transition:"width "+o.tempoVisivel+"ms ease",width:"0"}),A.fadeIn(f),B=a(function(){A.fadeOut(p)},o.tempoVisivel),o.comBlanket&&(h.fadeIn(f),N=a(function(){h.fadeOut(p)},o.tempoVisivel))}),i||k||(A.fadeIn(f),_.css({width:"100%",transition:"none"}),a(function(){_.css({transition:"width "+o.tempoVisivel+"ms ease",width:"0"}),B=a(function(){A.fadeOut(p)},o.tempoVisivel),o.comBlanket&&(h.fadeIn(f),N=a(function(){h.fadeOut(p)},o.tempoVisivel))},g))}),k.on("click",V),e.$on(l.EVENTO_ESCONDER_ALERTA_FLUTUANTE,V)};return{restrict:"A",replace:!0,scope:{},template:o,link:s}}])}(window.angular);